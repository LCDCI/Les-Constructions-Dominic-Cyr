# Common defaults (works even if no Spring profile is set)
server:
  error:
    include-message: always

logging:
  level:
    root: INFO
    com.ecp: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

spring:

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://postgres1/cdc-db}
    username: ${SPRING_DATASOURCE_USERNAME:user}
    password: ${SPRING_DATASOURCE_PASSWORD:pwd}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      idle-timeout: 60000
      max-lifetime: 1800000
      connection-timeout: 30000
      leak-detection-threshold: 60000

  jpa:
    show-sql: true
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        auto-quote-keyword: true

  defer-datasource-initialization: true

  sql:
    init:
      platform: psql
      mode: always

server.port: 8080

spring.datasource.hikari.initializationFailTimeout: 60000

files:
  service:
    base-url: ${FILES_SERVICE_BASE_URL:http://localhost:8082}

# DeepL API Configuration (for PDF translation)
deepl:
  api:
    key: ${DEEPL_API_KEY:}
    free: true
    url: https://api-free.deepl.com/v2

# For Auth0
auth0:
  domain: ${AUTH0_DOMAIN:}
  audience: ${AUTH0_AUDIENCE:}
  mgmt:
    client-id: ${AUTH0_MGMT_CLIENT_ID:}
    client-secret: ${AUTH0_MGMT_CLIENT_SECRET:}
  db-connection: ${AUTH0_DB_CONNECTION:}
  role:
    contractor: ${AUTH0_ROLE_CONTRACTOR:}
    customer: ${AUTH0_ROLE_CUSTOMER:}
    salesperson: ${AUTH0_ROLE_SALESPERSON:}
    owner: ${AUTH0_ROLE_OWNER:}

app:
  invite:
    result-url: ${APP_INVITE_RESULT_URL:}

google:
  analytics:
    property-id: ${GA_PROPERTY_ID:}
    credentials-path: ${GA_CREDENTIALS_PATH:}

reports:
  storage:
    base-path: reports/
    retention-days: 90
